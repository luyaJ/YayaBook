<!--
 * @FileDescription: 
 * @Author: luyaj
 * @Date: 2020-08-19 13:52:02
 * @LastEditors: luyaj
 * @LastEditTime: 2020-12-08 09:17:42
-->
## Error in mounted hook: "TypeError: handler.call is not a function"

è¿›å…¥ç»„ä»¶é¡µé¢æ—¶ï¼ŒvueæŠ¥é”™ï¼š`Error in mounted hook: "TypeError: handler.call is not a function"`

é€ æˆæŠ¥é”™åŸå› å°±æ˜¯ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° `mounted: {}` æ˜¯å¦æœ‰å£°æ˜äº†æœªå®šä¹‰æ–¹æ³•æˆ–æ˜¯åªå£°åäº†é’©å­å‡½æ•°ã€‚

å¤„ç†æ–¹æ³•:

1. æŠŠ mounted: {} åˆ é™¤æ‰;
2. æŠŠ mounted: {} æ”¹ä¸º mounted(){};

## vueä¸­çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å¯¹è±¡ï¼Œå­ç»„ä»¶æ˜¾ç¤ºä¸ºç©ºé—®é¢˜

åœ¨å¾®ç½‘å…H5ä¸­ï¼Œå°†çˆ¶ç»„ä»¶çš„å€¼ä¼ ç»™å­ç»„ä»¶ echarts æ—¶ï¼Œå‘ç°å­ç»„ä»¶è·å–çš„ props ä¸ºç©ºã€‚

**åŸå› **ï¼šecharts æ˜¯åœ¨æ¸²æŸ“çš„æ—¶å€™å°±ä¼ é€’æ•°æ®çš„ã€‚

è§£å†³ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ª flagï¼Œå½“æ•°æ®è·å–åˆ°äº†å†è¿›è¡Œå­ç»„ä»¶çš„æ¸²æŸ“ã€‚

```js
<Echarts v-if="flag && echartsList.categories.length !== 0" :echartsList="echartsList" :meterType="meterType" />

data() {
  return {
    flag: false,
    echartsList: {}
    ...
  }
}

queryPaymentHistory () {
  this.$post('/wwt/pay/queryPayHistory', {
    accountNo: window.localStorage.accountNo,
    meterNo: this.meterNum,
    orderStatus: 1, // 1æŸ¥ç¼´è´¹å†å²
    supplierId: window.localStorage.supplierId,
    limit: this.pageSize,
    page: this.page
  }).then((response) => {
    if (!response.errorCode) {
      // ...
      this.flag = true
    }
  })
}
```

## npm install -g @vue/cli æŠ¥é”™

çœ‹åˆ°äººå®¶è¯´çš„ï¼Œéœ€è¦ é…ç½®æ·˜å®é•œåƒ (å’±ä¹Ÿä¸å¤ªæ¸…æ¥š ğŸ™ƒ)ï¼Œåæ­£å®‰è£…å®Œä¹‹åå°±ä¸æŠ¥é”™äº†

```bash
npm config set registry https://registry.npm.taobao.org
npm install -g @vue/cli
```

è¿™æ ·å°±å®‰è£…å¥½äº† vue3.0 çš„è„šæ‰‹æ¶äº†ï¼Œä½¿ç”¨ `vue create é¡¹ç›®å` åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚

## npmåŒ…åŒºåˆ«

```bash
"@vue/cli-plugin-babel": "3.10.0",  
"@vue/cli-plugin-babel": "^3.10.0"
```

ä»¥ä¸ŠåŒºåˆ«ï¼šæ²¡æœ‰ `^` å°±æ˜¯å¼ºåˆ¶è¿™ä¸ªç‰ˆæœ¬ï¼Œæœ‰ `^` ä¼šåŒ¹é…æœ€æ–°çš„å¤§ç‰ˆæœ¬æ›´æ–°åŒ…ã€‚